(()=>{class t extends HTMLElement{connectedCallback(){this.attachShadow({mode:"open"}),this.container=document.createElement("div"),this.container.style.padding="10px",this.shadowRoot.appendChild(this.container),this.textElement=document.createElement("span"),this.container.appendChild(this.textElement),this.setColor(this.getAttribute("color")),this.setTextContent("init")}static get observedAttributes(){return["color","bookingsserviceid"]}async attributeChangedCallback(t,e,i){if("color"===t&&e!==i)console.log("Color attribute changed"),this.setColor(i);else if("bookingsserviceid"===t&&e!==i)if(wixClient){let t=(await wixClient.bookings.getServiceAvailability(bookingsserviceid)).slots[0];console.log(t),this.setTextContent("Fist slot: "+JSON.stringify(t))}else console.log("No client")}accessTokenListener(t){wixClient=createClient({host:site.host({applicationId:"7dea53d2-fbd3-463a-990a-22216a7cfb35"}),auth:site.auth(t),modules:{bookings}}),console.log("createClient",wixClient)}setColor(t){this.container.style.backgroundColor=t||"gray"}setTextContent(t){this.textElement.textContent=t||""}}customElements.define("ce-josh",t)})();